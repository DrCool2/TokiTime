<p id="notice"><%= notice %></p>

<h1>Welcome to Toki</h1>
<h5>Tokis are time entries with notes that help you track how long it took to complete a task.</h5>
<hr>

<%= link_to 'New Toki', new_toki_path %>
<hr>

<div class="table-responsive">
  <table class="table table-md table-hover caption-top">
    <caption>List of Toki Time Entries</caption>
    <thead class="table-warning">
      <tr>
        <th scope="col">Clock In Date</th>
        <th scope="col">Time</th>
        <th scope="col">Clock Out Date</th>
        <th scope="col">Time</th>
        <th scope="col">Duration (in Hours)</th>
        <th scope="col">Duration (approximate)</th>
        <th scope="col">Short Version</th>
        <th scope="col">Notes</th>
        <th colspan="3"></th>
      </tr>
    </thead>

    <tbody>
      <% @tokis.order(clock_in: :desc).each do |toki| %>
        <tr>
          <td class="align-right"><%= toki.clock_in.strftime('%A, %B %d %Y') %></td>
          <td><%= toki.clock_in.strftime('%l:%M %p') %></td>
          <td><%= toki.clock_out.strftime('%A, %B %d %Y') %></td>
          <td><%= toki.clock_out.strftime('%_l:%M %p') %></td>
          <td><%= Toki.hours(toki.id) %></td>
          <td><%= distance_of_time_in_words(toki.clock_in, toki.clock_out, include_seconds: false) %></td>
          <td>
            <% if toki.clock_in.strftime('%-m/%-d') == toki.clock_out.strftime('%-m/%-d') %>
                <%= toki.clock_in.strftime('%-m/%-d %_l:%M %p') %> - <%= toki.clock_out.strftime('%_l:%M %p') %>
            <% else %>
                <%= toki.clock_in.strftime('%-m/%-d %_l:%M %p') %> - <%= toki.clock_out.strftime('%-m/%-d %_l:%M %p') %>
            <% end %>
          </td>
          <td><%= toki.note %></td>
          <td><%= link_to 'Edit', edit_toki_path(toki) %></td>
          <td><%= link_to 'Destroy', toki, method: :delete, data: { confirm: 'Are you sure?' } %></td>
        </tr>
      <% end %>
    </tbody>
  </table>
</div>
<br>


